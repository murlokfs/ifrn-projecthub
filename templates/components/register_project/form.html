<div class="form-container">
    <h2 class="form-title">Cadastrando Projeto</h2>

    <form method="post" enctype="multipart/form-data" style="width: 100%;">
        {% csrf_token %}
        {{ form.media }} 
        
        <div class="form-group">
            <label>Nome do projeto <span class="required">*</span></label>
            <input type="text" name="title" class="custom-input" 
                   value="{{ form.title.value|default:'' }}" 
                   placeholder="Ex: Project Hub - Armazene seus projetos">
            <div class="helper-text">3-150 caracteres, Alfanuméricos, hífen e pontos permitidos</div>
        </div>

        <div class="form-row" style="display: flex; gap: 20px; align-items: flex-start; margin-bottom: 20px;">
            <div class="form-col" style="flex: 1;">
                <label>Visibilidade</label>
                <div class="toggle-wrapper" style="display: flex; align-items: center; gap: 12px; background: #f8f9fa; padding: 10px; border-radius: 12px; border: 1px solid #e9ecef;">
                    <label class="switch" style="position: relative; display: inline-block; width: 50px; height: 24px; margin-bottom: 0;">
                        <input type="checkbox" name="is_private" id="id_is_private" {% if form.is_private.value %}checked{% endif %} style="opacity: 0; width: 0; height: 0;">
                        <span class="slider round"></span>
                    </label>
                    <div class="toggle-text">
                        <strong style="display: block; font-size: 14px;">Privado</strong>
                        <span style="font-size: 11px; color: #666;">Apenas membros autorizados</span>
                    </div>
                </div>
            </div>

            <div class="form-col" style="flex: 1;">
                <label>Tipo de projeto</label>
                <select name="type" class="custom-input">
                    {% for value, text in form.fields.type.choices %}
                        <option value="{{ value }}" {% if form.type.value == value %}selected{% endif %}>
                            {{ text }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-col" style="flex: 1;">
                <label>Status do projeto</label>
                <select name="status" class="custom-input">
                    {% for value, text in form.fields.status.choices %}
                        <option value="{{ value }}" {% if form.status.value == value %}selected{% endif %}>
                            {{ text }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-group" style="margin-top: 20px;">
            <label>Professor Orientador <span class="required">*</span></label>
            <select name="guiding_teacher" class="custom-input">
                <option value="">Buscar professor...</option>
                {% for choice in form.fields.guiding_teacher.choices %}
                    <option value="{{ choice.0 }}" {% if form.guiding_teacher.value|stringformat:"s" == choice.0|stringformat:"s" %}selected{% endif %}>
                        {{ choice.1 }}
                    </option>
                {% endfor %}
            </select>
            <div class="helper-text">Selecione o docente responsável pela orientação</div>
        </div>

        <div class="form-group">
            <label>Integrantes</label>
            <div class="input-with-button" style="display: flex; gap: 10px;">
                <select name="members" class="custom-input" multiple style="height: 100px;">
                    {% for choice in form.fields.members.choices %}
                        <option value="{{ choice.0 }}" {% if choice.0 in form.members.value %}selected{% endif %}>
                            {{ choice.1 }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="helper-text">Segure Ctrl (ou Cmd) para selecionar múltiplos integrantes</div>
        </div>

        <div class="form-group">
            <label>Tags <span class="required">*</span></label>
            <select name="tags" class="custom-input" multiple style="height: 80px;">
                {% for choice in form.fields.tags.choices %}
                    <option value="{{ choice.0 }}" {% if choice.0 in form.tags.value %}selected{% endif %}>
                        {{ choice.1 }}
                    </option>
                {% endfor %}
            </select>
            <div class="helper-text">Selecione as tecnologias ou áreas do projeto</div>
        </div>

        <div class="form-group">
            <label>Descrição geral</label>
            {{ form.description }}
        </div>

        <button type="submit" class="btn-submit" style="margin-top: 30px;">Salvar Projeto</button>
    </form>
</div>